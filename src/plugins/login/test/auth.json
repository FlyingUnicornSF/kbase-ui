[
    {
        "description": "Login plugin - authorized",
        "specs": [
            {
                "description": "",
                "baseSelector": [
                    {
                        "type": "plugin",
                        "value": "login"
                    }
                ],

                "tasks": [
                    {
                        "title": "login",
                        "subtask": "login"
                    },
                    {
                        "title": "navigate to dashboard",
                        "navigate": {
                            "path": "dashboard"
                        }
                    },
                    {
                        "title": "Ensure the logged-in menu appears, then open the user menu",
                        "selector": {
                            "type": "absolute",
                            "path": [
                                {
                                    "type": "plugin",
                                    "value": "login"
                                },
                                {
                                    "type": "menu",
                                    "value": "signed-in"
                                },
                                {
                                    "type": "button",
                                    "value": "avatar"
                                }
                            ]
                        },
                        "wait": 10000,
                        "action": "click"
                    },
                    {
                        "title": "Username should be now rendered",
                        "selector": {
                            "type": "relative",
                            "path": [
                                {
                                    "type": "menu",
                                    "value": "signed-in"
                                },
                                {
                                    "type": "label",
                                    "value": "username"
                                }
                            ]
                        },
                        "waitUntilText": {
                            "value": "${username}",
                            "wait": 10000
                        }
                    },
                    {
                        "title": "And the real name too",
                        "selector": [
                            [
                                {
                                    "type": "label",
                                    "value": "realname"
                                }
                            ]
                        ],
                        "exists": true,
                        "text": "${realname}"
                    }
                ]
            }
        ]
    }
]
