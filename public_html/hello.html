<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="bower_components/jquery/dist/jquery.js"></script>
        <script src="bower_components/jquery/dist/jquery.js"></script>
        <script src="bower_components/thrift/lib/js/src/thrift.js"></script>
        <!-- <script src="js/taxon_types.js"></script>
        <script src="js/thrift_service.js"></script> -->
        <script src="js/hello_types.js"></script>
        <script src="js/HelloService.js"></script>
    </head>
    <body>
        <p>Working?</p>
        <div id="result">
            <div class="title"></div>
            <div class="body"></div>
        </div>
        <div id="error">
            <div class="title"></div>
            <div class="body"></div>            
        </div>
        <script>
            function test() {
                var transport = new Thrift.TXHRTransport('http://euk.kbase.us/hello');
                var protocol = new Thrift.TJSONProtocol(transport);
                var client = new HelloServiceClient(protocol);
                console.log(client);
                Promise.resolve(client.hello('Browser'))
                    .then(function (result) {
                        $('#result > .title').html('Yes!');
                        $('#result > .body').html(result);
                    })
                    .catch(function (err) {
                        $('#result > .title').html('no :(');
                        $('#result > .body').html(err.message);
                    })
            }
            test();
        </script>
    </body>
</html>
